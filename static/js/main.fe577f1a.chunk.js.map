{"version":3,"sources":["components/Items.js","components/Users.js","components/User.js","components/About.js","App.js","index.js"],"names":["Stock","items","stock_value","reduce","total","item","price","amount","stock_amount","class","length","toFixed","scope","style","textAlign","map","item_id","item_name","Users","state","user_id","this","setState","undefined","redirect","to","props","users","user","key","onClick","handleClick","user_name","balance","Component","User","fetch","then","res","json","data","total_value","i","sub_total","console","log","catch","user_history","d","push","Date","time","role","aria-valuenow","aria-valuemin","aria-valuemax","width","theme","VictoryTheme","grayscale","stroke","parent","border","x","y","About","App","sort","a","b","href","type","data-toggle","data-target","aria-controls","aria-expanded","aria-label","id","path","render","match","params","ReactDOM","document","getElementById"],"mappings":"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","file":"static/js/main.fe577f1a.chunk.js","sourcesContent":["import React from 'react'\r\n\r\nconst Stock = ({ items }) => {\r\n    let stock_value = items.reduce((total, item) => total += item.price * item.amount, 0)\r\n    let stock_amount = items.reduce((total, item) => total += item.amount, 0) \r\n    return (\r\n        <div class=\"container\">\r\n\r\n            <h3>Current Stock</h3>\r\n            <p>Number of item types: {items.length}</p>\r\n            <p>Number of items in stock: {stock_amount}</p>\r\n            <p>Total value of remaining stock: {\"£\"+((stock_value/100).toFixed(2))}</p>\r\n\r\n            <table class=\"table table-hover\">\r\n                <thead>\r\n                    <tr>\r\n                        <th scope=\"col\">ID</th>\r\n                        <th scope=\"col\">Name</th>\r\n                        <th style={{textAlign: 'center'}} scope=\"col\">Price</th>\r\n                        <th style={{textAlign: 'center'}} scope=\"col\">Amount</th>\r\n                    </tr>\r\n                </thead>\r\n                <tbody>\r\n                   {items.map((item) => (\r\n                   <tr>\r\n                       <td>{item.item_id}</td>\r\n                       <td>{item.item_name}</td>\r\n                       <td style={{textAlign: 'center'}}>{\"£\"+((item.price/100).toFixed(2))}</td>\r\n                       <td style={{textAlign: 'center'}}>{item.amount}</td>\r\n                   </tr>\r\n               ))} \r\n               </tbody>\r\n            </table>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Stock;","import React, { Component } from 'react'\r\nimport { Redirect } from \"react-router-dom\";\r\n\r\nclass Users extends Component {\r\n    state = {}\r\n\r\n    handleClick(user_id) {\r\n        this.setState({ \"redirect\": user_id })\r\n    }\r\n\r\n    render() {\r\n        if (this.state.redirect !== undefined) return <Redirect to={'/users/' + this.state.redirect} />\r\n        return (\r\n            <div class=\"container\">\r\n                <h3>Leaderboard</h3>\r\n                <table class=\"table table-hover\">\r\n                    <thead>\r\n                        <tr>\r\n                            <th scope=\"col\">ID</th>\r\n                            <th scope=\"col\">Name</th>\r\n                            <th style={{ textAlign: 'center' }} scope=\"col\">Cash</th>\r\n                            <th style={{ textAlign: 'center' }} scope=\"col\">Stock</th>\r\n                            <th style={{ textAlign: 'center' }} scope=\"col\">Total</th>\r\n                        </tr>\r\n                    </thead>\r\n                    <tbody>\r\n                        {this.props.users.map((user) => (\r\n                            <tr key={user.user_id} onClick={() => this.handleClick(user.user_id)}>\r\n                                <td>{user.user_id}</td>\r\n                                <td>{user.user_name}</td>\r\n                                <td style={{ textAlign: 'center' }}>{\"£\" + ((user.balance / 100).toFixed(2))}</td>\r\n                                <td style={{ textAlign: 'center' }}>{\"£\" + ((user.stock_value / 100).toFixed(2))}</td>\r\n                                <td style={{ textAlign: 'center' }}>{\"£\" + ((user.total / 100).toFixed(2))}</td>\r\n                            </tr>\r\n                        ))}\r\n                    </tbody>\r\n                </table>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default Users;","import React, { Component } from 'react';\r\nimport { VictoryLine, VictoryChart, VictoryTheme } from 'victory';\r\nclass User extends Component {\r\n    state = {\r\n        \"user\": undefined,\r\n        \"user_history\": [{ \"time\": 0, \"total\": 0 }]\r\n    }\r\n\r\n    componentDidMount() {\r\n        fetch('https://santa-shares.azurewebsites.net/api/users/' + this.props.user_id)\r\n            .then(res => res.json())\r\n            .then(data => {\r\n                let user = data\r\n                if (user.items === undefined) user.items = []\r\n                user.stock_value = user.items.reduce((total, item) => total += item.price * item.amount, 0)\r\n                user.total_value = user.stock_value + user.balance\r\n                for (let i = 0; i < user.items.length; i++) {\r\n                    let item = user.items[i];\r\n                    item.sub_total = item.amount * item.price\r\n                }\r\n                this.setState({ user: user })\r\n                console.log(this.state)\r\n\r\n            })\r\n            .catch(console.log)\r\n\r\n        fetch('https://santa-shares.azurewebsites.net/api/users/' + this.props.user_id + '/history')\r\n            .then(res => res.json())\r\n            .then(data => {\r\n                let user_history = []\r\n                for (let i = 0; i < data.length; i++) {\r\n                    let d = data[i];\r\n                    user_history.push({ \"time\": new Date(d.time), \"total\": d.balance + d.stock_value })\r\n                }\r\n                this.setState({ user_history: user_history })\r\n                console.log(this.state)\r\n            })\r\n            .catch(console.log)\r\n    }\r\n\r\n    render() {\r\n        if (this.state.user === undefined) return (\r\n            <div class=\"container\">\r\n                <h5>Loading user data...</h5>\r\n                <div class=\"progress\">\r\n                    <div class=\"progress-bar progress-bar-striped progress-bar-animated\" role=\"progressbar\" aria-valuenow=\"100\" aria-valuemin=\"0\" aria-valuemax=\"100\" style={{ width: \"50%\" }}></div>                </div>\r\n            </div>\r\n        )\r\n        else return (\r\n            <div>\r\n                <div class=\"container\">\r\n                    <h3>{this.state.user.user_name}</h3>\r\n                    <h5>Summary</h5>\r\n                    <table class=\"table table-hover\">\r\n                        <tbody>\r\n                            <tr>\r\n                                <th scope=\"row\">Cash</th>\r\n                                <td style={{ textAlign: 'center' }}>{\"£\" + ((this.state.user.balance / 100).toFixed(2))}</td>\r\n                            </tr>\r\n                            <tr>\r\n                                <th scope=\"row\">Stock Value</th>\r\n                                <td style={{ textAlign: 'center' }}>{\"£\" + ((this.state.user.stock_value / 100).toFixed(2))}</td>\r\n                            </tr>\r\n                            <tr>\r\n                                <th scope=\"row\">Total</th>\r\n                                <td style={{ textAlign: 'center' }}>{\"£\" + ((this.state.user.total_value / 100).toFixed(2))}</td>\r\n                            </tr>\r\n                        </tbody>\r\n                    </table>\r\n                    <h5>Items</h5>\r\n                    <table class=\"table table-hover\">\r\n                        <thead>\r\n                            <tr>\r\n                                <th scope=\"col\">ID</th>\r\n                                <th scope=\"col\">Name</th>\r\n                                <th style={{ textAlign: 'center' }} scope=\"col\">Price</th>\r\n                                <th style={{ textAlign: 'center' }} scope=\"col\">Amount</th>\r\n                                <th style={{ textAlign: 'center' }} scope=\"col\">SubTotal</th>\r\n                            </tr>\r\n                        </thead>\r\n                        <tbody>\r\n                            {\r\n                                this.state.user.items.map((item) => (\r\n                                    <tr key={item.item_id}>\r\n                                        <td>{item.item_id}</td>\r\n                                        <td>{item.item_name}</td>\r\n                                        <td style={{ textAlign: 'center' }}>{\"£\" + ((item.price / 100).toFixed(2))}</td>\r\n                                        <td style={{ textAlign: 'center' }}>{item.amount}</td>\r\n                                        <td style={{ textAlign: 'center' }}>{\"£\" + ((item.sub_total / 100).toFixed(2))}</td>\r\n                                    </tr>\r\n                                ))}\r\n                        </tbody>\r\n                    </table>\r\n                </div>\r\n                <div class=\"container\">\r\n                    <VictoryChart theme={VictoryTheme.grayscale} style={{width: \"50%\" }}>\r\n                        <VictoryLine\r\n                            style={{\r\n                                data: { stroke: \"#c43a31\" },\r\n                                parent: { border: \"1px solid #ccc\" }\r\n                            }}\r\n                            data={this.state.user_history} x=\"time\" y=\"total\" />\r\n                    </VictoryChart>\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\n\r\n\r\n\r\nexport default User;","import React from 'react'\r\n\r\nconst About = () => {\r\n    return (\r\n        <div class=\"container\">\r\n            <h3>About</h3>\r\n            <p>Welcome to Santa-Shares!</p>\r\n            <p>Santa-shares is a frame-work which allows the buying and selling of gifts using fake money. The intent is to encourage the design, implementation and testing of automated solutions to make the most cash.</p>\r\n            <p>The trading is done via an endpoint</p>\r\n            \r\n            <h4>Getting Started</h4>\r\n            <p>Blah blah bah</p> \r\n        </div>\r\n    )\r\n}\r\n\r\nexport default About","import React, { Component } from 'react';\r\nimport {\r\n  HashRouter as Router,\r\n  Switch,\r\n  Route,\r\n  Link\r\n} from \"react-router-dom\";\r\nimport Stock from './components/Items';\r\nimport Users from './components/Users';\r\nimport User from './components/User'\r\nimport About from './components/About'\r\nimport 'bootswatch/dist/sandstone/bootstrap.min.css';\r\nimport './App.css';\r\n\r\nclass App extends Component {\r\n  state = {\r\n    \"users\": [],\r\n    \"items\": [],\r\n  }\r\n\r\n  componentDidMount() {\r\n      fetch('https://santa-shares.azurewebsites.net/api/items')\r\n      .then(res => res.json())\r\n      .then(data => {\r\n        data.sort(function (a, b) { return a.item_id - b.item_id; })\r\n        this.setState({ items: data });\r\n\r\n        console.log(\"Fetching users...\")\r\n        fetch('https://santa-shares.azurewebsites.net/api/users')\r\n            .then(res => res.json())\r\n            .then(data => {\r\n                console.log(\"Received \" + data.length + \" users...\")\r\n                data.sort(function (a, b) { return b.total - a.total; })\r\n                this.setState({ \"users\": data })\r\n            })\r\n            .catch(console.log)\r\n      })\r\n      .catch(console.log)\r\n    }\r\n\r\n  render() {\r\n    return (\r\n      <div>\r\n        <Router>\r\n          <div>\r\n            <nav class=\"navbar navbar-expand-lg navbar-dark bg-dark\">\r\n              <a class=\"navbar-brand\" href=\"/\">Santa-Shares</a>\r\n              <button class=\"navbar-toggler\" type=\"button\" data-toggle=\"collapse\"\r\n                data-target=\"#navbarNav\"\r\n                aria-controls=\"navbarNav\" aria-expanded=\"false\" aria-label=\"Toggle navigation\">\r\n                <span class=\"navbar-toggler-icon\"></span>\r\n              </button>\r\n              <div class=\"collapse navbar-collapse\" id=\"navbarNav\">\r\n                <ul class=\"navbar-nav mr-auto\">\r\n                  <li class=\"nav-item\">\r\n                    <Link class=\"nav-link\" to=\"/\">Leaderboard</Link>\r\n                  </li>\r\n                  <li class=\"nav-item\">\r\n                    <Link class=\"nav-link\" to=\"/stock\">Stock</Link>\r\n                  </li>\r\n                  <li class=\"nav-item\">\r\n                    <Link class=\"nav-link\" to=\"/about\">About</Link>\r\n                  </li>\r\n                </ul>\r\n              </div>\r\n            </nav>\r\n            <Switch>\r\n            <Route path=\"/users/:user_id\" render={(props) => {\r\n                let user_id = props.match.params.user_id;\r\n                return (<User user_id={user_id} />)\r\n            }}/>\r\n              <Route path=\"/about\">\r\n                <About/>\r\n              </Route>\r\n              <Route path=\"/stock\">\r\n                <Stock items={this.state.items} />\r\n              </Route>\r\n              <Route path=\"/\">\r\n                <Users users={this.state.users} />\r\n              </Route>\r\n            </Switch>\r\n          </div>\r\n        </Router>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nexport default App;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './App';\r\n\r\nReactDOM.render(<App />, document.getElementById('root'));"],"sourceRoot":""}